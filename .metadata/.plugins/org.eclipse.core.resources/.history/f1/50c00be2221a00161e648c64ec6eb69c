package tjmg.pje.Integracao.RegraDeNegocio.JUnit;

import static org.junit.Assert.*;

import org.junit.Assert;
import org.junit.Before;
import org.junit.Test;
import org.testng.annotations.BeforeMethod;

import br.com.tjmg.pje.DAO.ClsDaoLoginDeUsuarios;
import br.com.tjmg.pje.interfaces.ClsPessoaDoSistema;
import br.com.tjmg.pje.interfaces.ClsUsuarioDoSistema;

public class ClsTestaMinhaPaginaJUnit 
{
	private String varNome;
	private String varSenha;
	private String varMsn;
	private ClsUsuarioDoSistema pessoa ;
	
	@Before
	public void inicializa()
	{
		//Requisito que será validado, classe de Login
		ClsDaoLoginDeUsuarios login = new ClsDaoLoginDeUsuarios();
		
		
	}
	
	
	/**
	 * Este caso de teste tem o objetivo de realizar a validação da funcionalidade do login de usuarios na aplicação
	 * Como pre-condição o usuario já deve ser uma pessoa cadastrada no sistema, ver Requisito R001-Cadastro de Pessoa no Sistema Usuário.
	 */
	@Test
	public void mTestaLoginDoUsuarioNoSistemaComDadosValidos()
	{		
		
		//Entrada de dados no sistema
		pessoa = login.BuscarUmUsuario("Wenderson", "123");
		
		//Validação do Resultado esperado, o sistema realizou o login com os dados informados.
		Assert.assertEquals(pessoa.getVarNomeUsuario(), "Wenderson");
		Assert.assertEquals(pessoa.getVarSenhaUsuario(), "123");		
		
	}
	
	@Test
	public void mTestaLoginDoUsuarioNoSistemaNaoValido()
	{
		//Requisito que será validado, classe de Login
		ClsDaoLoginDeUsuarios login = new ClsDaoLoginDeUsuarios();
		ClsUsuarioDoSistema pessoa ;
		
		//Entrada de dados no sistema
		pessoa = login.BuscarUmUsuario("Wend", "12");
		
		//Validação do Resultado esperado, o sistema realizou o login com os dados informados.
		Assert.assertNotEquals(pessoa.getVarNomeUsuario(), "Wenderson");
		Assert.assertNotEquals(pessoa.getVarSenhaUsuario(), "123");		
		
	}
	
	@Test
	public void mTestaLoginDoUsuarioNoSistemaSemPassarOsDados()
	{
		//Requisito que será validado, classe de Login
		ClsDaoLoginDeUsuarios login = new ClsDaoLoginDeUsuarios();
		ClsUsuarioDoSistema pessoa ;
		
		//Entrada de dados no sistema
		pessoa = login.BuscarUmUsuario("", "");
		
		//Validação do Resultado esperado, o sistema realizou o login com os dados informados.
		Assert.assertNotEquals(pessoa.getVarNomeUsuario(), "Wenderson");
		Assert.assertNotEquals(pessoa.getVarSenhaUsuario(), "123");		
		
	}
	
	@Test
	public void mTestaLoginDoUsuarioNoSistemaUsuarioValidoSenhaInvalida()
	{
		//Requisito que será validado, classe de Login
		ClsDaoLoginDeUsuarios login = new ClsDaoLoginDeUsuarios();
		ClsUsuarioDoSistema pessoa ;
		
		//Entrada de dados no sistema
		pessoa = login.BuscarUmUsuario("Wenderson", "98");
		
		//Validação do Resultado esperado, o sistema realizou o login com os dados informados.
		Assert.assertEquals(pessoa.getVarNomeUsuario(), "Wenderson");
		Assert.assertNotEquals(pessoa.getVarSenhaUsuario(), "123");		
		
	}
	
	@Test
	public void mTestaLoginDoUsuarioNoSistemaUsuarioInvalidoSenhaValida()
	{
		//Requisito que será validado, classe de Login
		ClsDaoLoginDeUsuarios login = new ClsDaoLoginDeUsuarios();
		ClsUsuarioDoSistema pessoa ;
		
		//Entrada de dados no sistema
		pessoa = login.BuscarUmUsuario("Wend", "123");
		
		//Validação do Resultado esperado, o sistema realizou o login com os dados informados.
		Assert.assertNotEquals(pessoa.getVarNomeUsuario(), "Wenderson");
		Assert.assertEquals(pessoa.getVarSenhaUsuario(), "123");		
		
	}
		

}
